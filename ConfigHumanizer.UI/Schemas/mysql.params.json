{
  "formatName": "MySQL",
  "description": "Configuration du serveur MySQL/MariaDB",
  "version": "1.0",
  "filePatterns": ["my.cnf", "my.ini", "mysql.cnf"],
  "fileExtensions": [],
  "syntax": "Ini",
  "commentChar": "#",
  "keyValueSeparator": " = ",
  "documentationUrl": "https://dev.mysql.com/doc/refman/8.0/en/server-system-variables.html",
  "parameterCategories": [
    {
      "name": "R√©seau",
      "description": "Configuration r√©seau",
      "icon": "üåê",
      "order": 1,
      "parameters": [
        {
          "key": "port",
          "displayName": "Port",
          "description": "Port d'√©coute du serveur MySQL",
          "dataType": "Port",
          "defaultValue": 3306
        },
        {
          "key": "bind-address",
          "displayName": "Adresse d'√©coute",
          "description": "Adresse IP sur laquelle √©couter (127.0.0.1 = local uniquement)",
          "dataType": "IpAddress",
          "defaultValue": "127.0.0.1",
          "enumValues": [
            { "value": "127.0.0.1", "displayName": "Localhost uniquement (s√©curis√©)", "severity": "GoodPractice" },
            { "value": "0.0.0.0", "displayName": "Toutes les interfaces", "severity": "Warning" }
          ]
        },
        {
          "key": "max_connections",
          "displayName": "Connexions max",
          "description": "Nombre maximum de connexions simultan√©es",
          "dataType": "Integer",
          "defaultValue": 151,
          "validation": {
            "min": 1,
            "max": 100000
          }
        },
        {
          "key": "skip-networking",
          "displayName": "D√©sactiver r√©seau",
          "description": "D√©sactive les connexions r√©seau (socket local uniquement)",
          "dataType": "Boolean",
          "defaultValue": false,
          "booleanFormat": "1/0"
        }
      ]
    },
    {
      "name": "M√©moire",
      "description": "Configuration de la m√©moire",
      "icon": "üíæ",
      "order": 2,
      "parameters": [
        {
          "key": "innodb_buffer_pool_size",
          "displayName": "Taille buffer pool InnoDB",
          "description": "M√©moire allou√©e au cache InnoDB (70-80% de la RAM sur serveur d√©di√©)",
          "dataType": "Size",
          "defaultValue": "128M",
          "example": "4G"
        },
        {
          "key": "key_buffer_size",
          "displayName": "Taille buffer cl√©s MyISAM",
          "description": "M√©moire pour le cache des index MyISAM",
          "dataType": "Size",
          "defaultValue": "16M"
        },
        {
          "key": "max_allowed_packet",
          "displayName": "Taille max paquet",
          "description": "Taille maximale d'un paquet/requ√™te",
          "dataType": "Size",
          "defaultValue": "64M"
        },
        {
          "key": "query_cache_size",
          "displayName": "Taille cache requ√™tes",
          "description": "M√©moire pour le cache des requ√™tes (0 = d√©sactiv√©)",
          "dataType": "Size",
          "defaultValue": "0"
        }
      ]
    },
    {
      "name": "S√©curit√©",
      "description": "Param√®tres de s√©curit√©",
      "icon": "üîí",
      "order": 3,
      "parameters": [
        {
          "key": "local-infile",
          "displayName": "LOAD DATA LOCAL",
          "description": "Autorise le chargement de fichiers locaux (risque de s√©curit√©)",
          "dataType": "Boolean",
          "defaultValue": false,
          "booleanFormat": "1/0",
          "enumValues": [
            { "value": "1", "displayName": "Activ√©", "severity": "Warning" },
            { "value": "0", "displayName": "D√©sactiv√© (recommand√©)", "severity": "GoodPractice" }
          ]
        },
        {
          "key": "symbolic-links",
          "displayName": "Liens symboliques",
          "description": "Autorise les liens symboliques pour les tables",
          "dataType": "Boolean",
          "defaultValue": false,
          "booleanFormat": "1/0",
          "enumValues": [
            { "value": "1", "displayName": "Activ√©", "severity": "Warning" },
            { "value": "0", "displayName": "D√©sactiv√© (recommand√©)", "severity": "GoodPractice" }
          ]
        },
        {
          "key": "skip-show-database",
          "displayName": "Masquer SHOW DATABASES",
          "description": "Restreint la commande SHOW DATABASES",
          "dataType": "Boolean",
          "defaultValue": false,
          "booleanFormat": "1/0"
        }
      ]
    },
    {
      "name": "Logs",
      "description": "Configuration des journaux",
      "icon": "üìù",
      "order": 4,
      "parameters": [
        {
          "key": "log_error",
          "displayName": "Journal d'erreurs",
          "description": "Chemin vers le fichier de log d'erreurs",
          "dataType": "Path",
          "defaultValue": "/var/log/mysql/error.log"
        },
        {
          "key": "slow_query_log",
          "displayName": "Log requ√™tes lentes",
          "description": "Active le journal des requ√™tes lentes",
          "dataType": "Boolean",
          "defaultValue": false,
          "booleanFormat": "1/0"
        },
        {
          "key": "slow_query_log_file",
          "displayName": "Fichier requ√™tes lentes",
          "description": "Chemin vers le fichier de log des requ√™tes lentes",
          "dataType": "Path",
          "defaultValue": "/var/log/mysql/slow.log"
        },
        {
          "key": "long_query_time",
          "displayName": "Seuil requ√™te lente",
          "description": "Dur√©e au-del√† de laquelle une requ√™te est consid√©r√©e lente",
          "dataType": "Integer",
          "defaultValue": 10,
          "unit": "s"
        },
        {
          "key": "general_log",
          "displayName": "Log g√©n√©ral",
          "description": "Active le journal de toutes les requ√™tes (impact performance)",
          "dataType": "Boolean",
          "defaultValue": false,
          "booleanFormat": "1/0",
          "enumValues": [
            { "value": "1", "displayName": "Activ√© (impact performance)", "severity": "Warning" },
            { "value": "0", "displayName": "D√©sactiv√©", "severity": "Info" }
          ]
        }
      ]
    },
    {
      "name": "InnoDB",
      "description": "Configuration du moteur InnoDB",
      "icon": "‚öôÔ∏è",
      "order": 5,
      "parameters": [
        {
          "key": "innodb_file_per_table",
          "displayName": "Fichier par table",
          "description": "Stocke chaque table dans son propre fichier",
          "dataType": "Boolean",
          "defaultValue": true,
          "booleanFormat": "1/0"
        },
        {
          "key": "innodb_flush_log_at_trx_commit",
          "displayName": "Flush logs transaction",
          "description": "Quand √©crire les logs de transaction (1=s√ªr, 2=rapide)",
          "dataType": "Enum",
          "defaultValue": "1",
          "enumValues": [
            { "value": "0", "displayName": "Chaque seconde", "description": "Performance maximale, risque de perte", "severity": "Warning" },
            { "value": "1", "displayName": "Chaque transaction (s√ªr)", "description": "Conformit√© ACID compl√®te", "severity": "GoodPractice" },
            { "value": "2", "displayName": "Compromis", "description": "√âcriture OS √† chaque transaction", "severity": "Info" }
          ]
        },
        {
          "key": "innodb_log_file_size",
          "displayName": "Taille fichier log",
          "description": "Taille des fichiers de journal redo",
          "dataType": "Size",
          "defaultValue": "48M",
          "example": "256M"
        }
      ]
    }
  ]
}
